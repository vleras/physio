(()=>{"use strict";var e,t,n={271:(e,t,n)=>{n.r(t),n.d(t,{ALL:()=>r,DEBUG:()=>i,ERROR:()=>c,FATAL:()=>l,INFO:()=>a,OFF:()=>d,TRACE:()=>o,WARN:()=>s});var r=0,o=0,i=1,a=2,s=3,c=4,l=5,d=6},334:(e,t,n)=>{n.d(t,{A:()=>l,E:()=>i});var r=n(4549),o=n(2544),i=n(271),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="/v1/";function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if("object"!==(void 0===e?"undefined":s(e))||!e)throw new TypeError("expected configuration object");var n=e.baseUrl,l=void 0===n?"https://eu.klarnaevt.com":n,d=e.client,u=e.clientVersion,f=e.sessionId,p=e.commonData,v=void 0===p?{}:p,b=e.instanceId,m=void 0===b?Math.floor(9e3*Math.random())+1e3:b,h=e.logLevel||i.ALL;if("string"!=typeof d)throw new TypeError("expected `client` in the configuration object");if("string"!=typeof u)throw new TypeError("expected `clientVersion` in the configuration object");if("string"!=typeof f)throw new TypeError("expected `sessionId` in the configuration object");if("number"!=typeof h||h<i.ALL||h>i.OFF)throw new TypeError("invalid `logLevel` ("+h+")");function g(e){return Object.keys(e).sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments[2],p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.ALL;if(!(h>p)){if(!e)throw new TypeError("expected `name` as first parameter");var b=function(e,t){return""+l+c+d+"/"+u+"/"+e+"?"+g(t)}(e,n=a({},v,n,{iid:m,sid:f,timestamp:n.timestamp||(new Date).getTime()}));try{o.A.create(t,b,s)}catch(e){s&&(b+="&"+g(s)),r.A.create(t,b)}}}return{event:y,trace:function(e,t,n){y(e,t,n,i.TRACE)},debug:function(e,t,n){y(e,t,n,i.DEBUG)},info:function(e,t,n){y(e,t,n,i.INFO)},warn:function(e,t,n){y(e,t,n,i.WARN)},error:function(e,t,n){y(e,t,n,i.ERROR)},fatal:function(e,t,n){y(e,t,n,i.FATAL)},setLogLevel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ALL;if("number"!=typeof e||e<i.ALL||e>i.OFF)throw new TypeError("invalid `logLevel` ("+e+")");h=e},getConfig:function(){return{baseUrl:l,client:d,clientVersion:u,sessionId:f,instanceId:m,logLevel:h}}}}},509:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{E:()=>i});const i=e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return Object.keys(t).forEach(e=>void 0===t[e]?delete t[e]:{}),t}},608:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(334),o=n(3530);function i(e){return(0,o.J)()?function(e){return console.info("[Tracking (disabled)] Setting up fake instance with config",e),{event:(t,n,o={},i=r.E.INFO)=>{e.logLevel&&e.logLevel>i||console.info("[Tracking (disabled)]",t,n,o,i,{config:e})},setLogLevel(t){console.info("[Tracking (disabled)] Setting up fake instance logLevel to",t),e.logLevel=t},getConfig:()=>e}}(e):(0,r.A)(e)}},833:(e,t,n)=>{n.d(t,{O:()=>i});var r=n(5298),o=n(2592);const i=(e,t,n=r.T.websdk)=>{const i=(0,o.Ay)(n);try{i.event("error",{message:t,name_1:e})}catch(e){}}},908:(e,t,n)=>{function r(){return!0}n.d(t,{A:()=>r})},1417:(e,t,n)=>{n.d(t,{L:()=>o});var r=n(3740);function o(e,t=window){if(null==t||!t.localStorage)throw new Error(`client does not support ${r.A.localStorage}`);const n=()=>JSON.parse(t.localStorage.getItem(e)||"{}"),o={get:e=>{const t=n(),r=null==t?void 0:t[e];if(!r)return null;const i=null==t?void 0:t.ttl;return i&&i<Date.now()?(o.flush(),null):r},set:(r,o)=>{const i=n();return null===o?delete i[r]:i[r]=o,t.localStorage.setItem(e,JSON.stringify(i))},remove:e=>o.set(e,null),flush:()=>t.localStorage.removeItem(e)};return o}},1594:(e,t,n)=>{n.d(t,{i:()=>i});var r=n(5298),o=n(2592);function i(e,t){if(void 0!==t){const n=(0,o.Ay)(r.T.websdk),i=Date.now();n.event(e,{startTimestamp:t,endTimestamp:i,timeToLoad:i-t})}}},2102:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a;n.d(t,{x:()=>O}),function(e){e.fatal="fatal",e.error="error",e.warning="warning",e.log="log",e.info="info",e.debug="debug",e.critical="critical"}(a||(a={}));const s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d="?",u=/^(?:(\w+):)\/\/(?:([\w-]+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function f(e){return(e&&e.message||"No error message").split("\n").filter(e=>!!e)[0]}function p(e){try{const t=function(e){if(!e.stack)return null;const t=[],n=e.stack.split("\n");let r,o;for(let i=0;i<n.length;++i){if(r=s.exec(n[i]))o={filename:r[2]&&0===r[2].indexOf("address at ")?r[2].substr(11):r[2],function:r[1]||d,lineno:r[3]?+r[3]:null,colno:r[4]?+r[4]:null};else if(r=l.exec(n[i]))o={filename:r[2],function:r[1]||d,lineno:+r[3],colno:r[4]?+r[4]:null};else{if(!(r=c.exec(n[i])))continue;0!==i||r[5]||void 0===e.columnNumber||(t[0].column=e.columnNumber+1),o={filename:r[3],function:r[1]||d,lineno:r[4]?+r[4]:null,colno:r[5]?+r[5]:null}}!o.function&&o.lineno&&(o.function=d),t.push(o)}return t.length?{value:f(e),type:e.name,stacktrace:{frames:t.reverse()}}:null}(e);if(t)return t}catch(e){}return{value:f(e),type:e&&e.name,stacktrace:{frames:[]}}}class v{constructor(e){if(e&&e.dsn){const t=u.exec(e.dsn),n=t?t.slice(1):[],r=n[5].split("/"),o=r.slice(0,-1).join("/");this.apiUrl=n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(o?"/"+o:"")+"/api/"+r.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+n[1]+(n[2]?",sentry_secret="+n[2]:"")}this.environment=e&&e.environment}prepare(e){return o(o({},this.getRequestBlank()),{},{exception:{values:[p(e)]}})}report(e){this.send(this.prepare(e))}send(e){this.apiUrl&&e&&this.createRequest(e)}createRequest(e){const t=new XMLHttpRequest;t.open("POST",this.apiUrl,!0),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("X-Sentry-Auth",this.authHeader||""),t.send(JSON.stringify(e))}getRequestBlank(){return{platform:"javascript",event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),sdk:{name:"micro-sentry.javascript.core",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return"[object RegExp]"===Object.prototype.toString.call(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t)}function y(){return window}class O extends v{constructor(e,t=y()){super(e),this.options=e,this.window=t,this.destroyed=!1,this._state={};const{plugins:n=[],beforeSend:r=e=>e,beforeBreadcrumb:o=e=>e,blacklistUrls:i=[],ignoreErrors:a=[],release:s}=this.options||{};this.plugins=n.map(e=>new e(this)),this.beforeSend=r,this.beforeBreadcrumb=o,this.blacklistUrls=i,this.ignoreErrors=a,this.release=s}get state(){return this._state}clearState(){this._state={}}setTags(e){return this.setKeyState("tags",m({},e)),this}setTag(e,t){return this.extendState({tags:{[e]:t}}),this}setExtra(e,t){return this.extendState({extra:{[e]:t}}),this}setExtras(e){return this.setKeyState("extra",m({},e)),this}setUser(e){return this.setKeyState("user",e?m({},e):void 0),this}clone(){const e=new O(m(m({},this.options),{},{plugins:[]}));return e.extendState(this.state),e}withScope(e){const t=this.clone();e(t),t.destroy(),this.setBreadcrumbs(void 0)}addBreadcrumb(e){const t=this.beforeBreadcrumb(e);t&&this.extendState({breadcrumbs:[m({timestamp:Date.now()/1e3},t)]})}setBreadcrumbs(e){this.setKeyState("breadcrumbs",e)}captureMessage(e,t){this.send(m(m({},this.getRequestBlank()),{},{message:e,level:t}))}destroy(){this.destroyed=!0,this.plugins.forEach(e=>{e.destroy&&e.destroy()})}isIgnoredError(e){return!!this.ignoreErrors.length&&this.getPossibleEventMessages(e).some(e=>this.ignoreErrors.some(t=>g(e,t)))}getRequestBlank(){return m(m({request:{url:this.window.location.toString(),headers:{"User-Agent":this.window.navigator.userAgent}}},super.getRequestBlank()),{},{sdk:{name:"micro-sentry.javascript.browser",version:"0.0.0"}},this.state)}send(e){if(this.destroyed||this.isDeniedUrl(e)||this.isIgnoredError(e))return;const t=this.beforeSend(m({release:this.release},e));t&&(super.send(t),this.setBreadcrumbs(void 0))}getPossibleEventMessages(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(e){return[]}return[]}isDeniedUrl(e){if(!this.blacklistUrls.length)return!1;const t=this.getEventFilterUrl(e);return!!t&&this.blacklistUrls.some(e=>g(t,e))}getEventFilterUrl(e){try{if(e.exception){const t=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return t&&t[t.length-1].filename||null}return null}catch(e){return null}}extendState(e){this._state=Object.keys(e).reduce((t,n)=>{const r=this._state[n],o=Array.isArray(r)?r:null,i=e[n],a=Array.isArray(i)?i:null;return m(m({},t),{},{[n]:o||a?[...o||[],...a||[]]:m(m({},"string"!=typeof r?r:{}),"string"!=typeof i?i:{})})},this._state)}setKeyState(e,t){this._state[e]=t}}},2298:(e,t,n)=>{n.d(t,{o0:()=>p});var r=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},o=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},i=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=3,u=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?v(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?v(navigator.userAgent):"undefined"!=typeof process&&process.version?new i(process.version.slice(1)):null}function v(e){var t=function(e){return""!==e&&u.reduce(function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]},!1)}(e);if(!t)return null;var n=t[0],i=t[1];if("searchbot"===n)return new s;var c=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);c?c.length<d&&(c=r(r([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(d-c.length),!0)):c=[];var p=c.join("."),v=function(e){for(var t=0,n=f.length;t<n;t++){var r=f[t],o=r[0];if(r[1].exec(e))return o}return null}(e),b=l.exec(e);return b&&b[1]?new a(n,p,v,b[1]):new o(n,p,v)}},2388:(e,t,n)=>{n.d(t,{AV:()=>r,EX:()=>m,Ej:()=>I,IM:()=>c,ND:()=>s,PK:()=>d,T:()=>i,UI:()=>l,Uh:()=>a,W4:()=>b,Yh:()=>g,Yi:()=>_,_C:()=>w,aT:()=>o,eX:()=>v,g7:()=>E,o4:()=>O,pL:()=>u,qR:()=>p,qt:()=>y,wq:()=>f,yC:()=>h});const r="klarna_sdk_v1_mjs_sdk_load_end",o="klarna_sdk_v1_js_sdk_load_start",i="klarna_sdk_v1_js_sdk_load_end",a="klarna_sdk_v1_js_fetch_sdk",s="klarna_sdk_v1_js_fetch_runtime_config",c="klarna_sdk_v1_load_error",l="klarna_sdk_v1_load_retry",d="klarna_sdk_v1_initialize_backend_bridge",u="metric_sdk_init",f="klarna_sdk_v1_shopping_error",p="klarna_sdk_v1_interoperability_error",v="klarna_sdk_v1_payment_error",b="klarna_sdk_v1_identity_error",m="klarna_sdk_v1_config_error",h="klarna_sdk_v1_messaging_error",g="klarna_sdk_v1_resume_current_session_error",y="klarna_sdk_v1_initialize_config",O="klarna_sdk_v1_initialize_identity",w="klarna_sdk_v1_initialize_interoperability",E="klarna_sdk_v1_initialize_messaging",_="klarna_sdk_v1_initialize_payment",I="klarna_sdk_v1_initialize_shopping"},2544:(e,t,n)=>{n.d(t,{A:()=>r});const r={create:function(e,t,n){e.navigator.sendBeacon(t,JSON.stringify(n))}}},2592:(e,t,n)=>{n.d(t,{Ay:()=>b,Tj:()=>v});var r=n(334),o=n(4074),i=n(608),a=n(6128),s=n(5298);function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={},p={};function v(e){if(f[e])return b(e)}function b(e){let t=r.E.INFO,n={};const l=(i,l={},u={},v=r.E.INFO)=>{if(v<t)return;if(!f[e])return;const b=()=>{var t;null===(t=f[e])||void 0===t||t.event(i,d(d(d({level:v},u),n),l),{},v)};if(e!==s.T.osm)return void b();const m=a.$.generateEventKey(i,JSON.stringify(l),JSON.stringify(u),v.toString());p[e]||(p[e]=new a.$);const h=function(){var e,t=(e=function*(){b()},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}();p[e].executeOnce(h,m,e=>(0,o.G)(e))},u=(e,t)=>(n,r={},o={})=>e(n,r,o,t);return{configure:({options:t,data:r={},instanceId:o})=>{n=r,f[e]||(f[e]=(0,i.A)(m(d(d({},t),{},{instanceId:o}))))},event:l,trace:u(l,r.E.TRACE),debug:u(l,r.E.DEBUG),info:u(l,r.E.INFO),warn:u(l,r.E.WARN),error:u(l,r.E.ERROR),fatal:u(l,r.E.FATAL),setLogLevel(n="ALL"){try{const o=n.toUpperCase();t=o in r.E?r.E[o]:r.E.ALL,f[e]&&f[e].setLogLevel(t)}catch(e){}},removeInstance(){f[e]&&delete f[e],p[e]&&(p[e].stopFlusher(),delete p[e])}}}const m=({client:e="sdk",clientVersion:t="",sessionId:n="",instanceId:r,baseUrl:o=""})=>({client:e,clientVersion:t,environment:"production",sessionId:n,instanceId:r,baseUrl:o})},2869:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(2298);const o=["chrome","ios","chromium-webview","edge-chromium","safari","instagram","ios-webview","samsung","bot","crios","facebook","firefox","opera","edge-ios","silk","fxios","android"],i=()=>{try{var e;const t=null===(e=(0,r.o0)())||void 0===e?void 0:e.name;return t&&o.includes(t)?t:"unknown"}catch(e){return"unknown"}}},3001:(e,t,n)=>{n.d(t,{H:()=>o});const r=[],o=e=>{var t;let n=!1;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(({value:e})=>{r.forEach(t=>{t&&e.includes(t)&&(n=!0)})}),n?null:e}},3045:(e,t,n)=>{n.d(t,{D:()=>r});let r=function(e){return e.SENTRY_NOT_CONFIGURED="sentry_not_configured",e}({})},3056:(e,t,n)=>{n.d(t,{A:()=>c});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(o)}},3223:(e,t,n)=>{n.d(t,{N:()=>d});var r=n(7459),o=n(6336),i=n(509),a=n(3398),s=n(4656);const c=({environment:e,locale:t,currency:n})=>{const o=(0,r.Y)({locale:t}),i=(0,s.J)({currency:n,locale:o});return(0,a.L)()?"na"===i?"https://frontend-event-router-us.staging.c2c.klarna.net":`https://frontend-event-router-${i}.staging.c2c.klarna.net`:"playground"===e?`https://${i}.playground.klarnaevt.com`:`https://${i}.klarnaevt.com`};var l=n(2592);const d=({config:e,trackerClient:t,extraTrackingData:n,locale:a})=>{const{version:s,environment:d,sessionId:u}=e,f=(0,l.Ay)(t),p=(0,i.E)({clientId:null==n?void 0:n.clientId,accountId:null==n?void 0:n.accountId,additionalIdentifier:null==n?void 0:n.additionalIdentifier,sdk:"websdk",aId:null==n?void 0:n.aId,merchantUrl:(()=>{try{if("undefined"!=typeof window&&window.location)return window.location.hostname}catch(e){}return""})(),c2cPartition:(0,o.b)((0,r.Y)({locale:a}))});return f.configure({options:{client:t,clientVersion:s,sessionId:u,baseUrl:c({environment:d,locale:a})},data:p}),f}},3308:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(4984);const o=(e,t=r.dI)=>{if(!e)return!1;const[n="",o=""]=e.split("-");if(!o||!n)return!1;const i=o.toUpperCase(),a=n.toLowerCase();return!!t[i]&&t[i].includes(a)}},3398:(e,t,n)=>{n.d(t,{L:()=>r});const r=()=>!1},3530:(e,t,n)=>{n.d(t,{J:()=>r});const r=()=>{try{const e=window.navigator.userAgent,t=[/selenium/i,/spider\b/i,/headless/i,/phantomjs/i,/bot\b/i],n=e.toLowerCase();if(!n||""===n.trim())return!0;for(const e of t)if(e.test(n))return!0;return!1}catch(e){return!1}}},3740:(e,t,n)=>{n.d(t,{A:()=>o,f:()=>r});const r="__klarna_sdk_";let o=function(e){return e.localStorage="localStorage",e.sessionStorage="sessionStorage",e.klarnaIframeStorage="klarnaIframeStorage",e}({})},3837:(e,t,n)=>{n.d(t,{n:()=>s,s:()=>c});var r=n(4074),o=n(3740),i=n(1417),a=n(9596);const s=e=>{try{return(0,i.L)(`${o.f}${e}`)}catch(e){return void(0,r.G)("Storage type: localStorage not supported")}},c=e=>{try{return(0,a.s)(`${o.f}${e}`)}catch(e){return void(0,r.G)("Storage type: sessionStorage not supported")}}},3976:(e,t,n)=>{n.d(t,{S:()=>o});var r=function(e){return e.sessionStorageNotSupported="sessionStorage-not-supported",e.localStorageNotSupported="localStorage-not-supported",e.dynamicImportFailed="dynamic-import-failed",e.multipleCustomElementsWithSameTagName="multiple-custom-elements-same-tag-name",e.unexpectedTokenMethodParamsList="unexpected-token-method-params-list",e.missingColonAfterPropertyId="missing-colon-after-property-id",e.unexpectedTokenEqual="unexpected-token-equal",e.expectedExpressionGotEqual="expected-expression-got-equal",e.performanceNotDefined="performance-is-not-defined",e.undefinedIsNotAnObjectRenderOptions="undefined-is-not-an-object-render-options",e.renderOptionsIsUndefined="render-options-is-undefined",e.nullIsNotAnObjectParentNodeInsertBefore="null-is-not-an-object-parent-node-insert-before",e.failedToFetchOSMAPI="failed-to-fetch-osm-api",e.cannotReadPropertiesOfNull="cannot-read-properties-of-null",e.failedToExecuteInvokeOnCreateHTMLCallback="failed-to-execute-invoke-on-create-html-callback",e.performanceMarkIsNotAFunction="performance-mark-is-not-a-function",e.backendBridgeInitFailed="backend-bridge-init-failed",e.globalThisIsNotDefined="globalThisIsNotDefined",e.identityNaClientIdsNotFound="identity-na-client-ids-not-found",e.chunkLoadErrorObjectNotExtensible="chunk-load-error-object-not-extensible",e.runtimeConfigFetchRequestAborted="runtime-config-fetch-request-aborted",e.runtimeConfigFetchRequestAbortedPlayground="runtime-config-fetch-request-aborted-playground",e}(r||{});const o=e=>{var t,n,o,i,a,s,c,l,d,u,f,p,v,b,m,h,g,y,O,w;switch(e){case"Storage type: sessionStorage not supported":return[r.sessionStorageNotSupported];case"Storage type: localStorage not supported":return[r.localStorageNotSupported];case"Cannot define multiple custom elements with the same tag name":return[r.multipleCustomElementsWithSameTagName];case"Unexpected token ';'. Expected an opening '(' before a method's parameter list.":return[r.unexpectedTokenMethodParamsList];case null===(t=e.match(/Failed to fetch dynamically imported module/))||void 0===t?void 0:t.input:return[r.dynamicImportFailed];case null===(n=e.match("missing : after property id"))||void 0===n?void 0:n.input:return[r.missingColonAfterPropertyId];case null===(o=e.match("Unexpected token '='"))||void 0===o?void 0:o.input:return[r.unexpectedTokenEqual];case null===(i=e.match("expected expression, got '='"))||void 0===i?void 0:i.input:return[r.expectedExpressionGotEqual];case null===(a=e.match(/error loading dynamically imported module/))||void 0===a?void 0:a.input:return[r.dynamicImportFailed];case null===(s=e.match(/performance is not defined/))||void 0===s?void 0:s.input:return[r.performanceNotDefined];case null===(c=e.match(/performance?.mark is not a function/))||void 0===c?void 0:c.input:return[r.performanceMarkIsNotAFunction];case null===(l=e.match(/undefined is not an object (evaluating 'this.renderOptions.renderBefore')/))||void 0===l?void 0:l.input:return[r.undefinedIsNotAnObjectRenderOptions];case null===(d=e.match(/this.renderOptions is undefined/))||void 0===d?void 0:d.input:return[r.renderOptionsIsUndefined];case null===(u=e.match(/Cannot read properties of null (reading 'insertBefore')/))||void 0===u?void 0:u.input:return[r.cannotReadPropertiesOfNull];case null===(f=e.match(/null is not an object (evaluating 'this._$AA.parentNode.insertBefore')/))||void 0===f?void 0:f.input:return[r.nullIsNotAnObjectParentNodeInsertBefore];case null===(p=e.match(/Failed to execute 'invoke' on 'CreateHTMLCallback': The provided callback is no longer runnable./))||void 0===p?void 0:p.input:return[r.failedToExecuteInvokeOnCreateHTMLCallback];case null===(v=e.match("Failed to fetch: GET https://js.klarna.com/na/cma/"))||void 0===v?void 0:v.input:return[r.failedToFetchOSMAPI];case null===(b=e.match("BackendBridge: init failed"))||void 0===b?void 0:b.input:return[r.backendBridgeInitFailed];case null===(m=e.match("globalThis is not defined"))||void 0===m?void 0:m.input:return[r.globalThisIsNotDefined];case null===(h=e.match("Identity naClientIds list not found"))||void 0===h?void 0:h.input:return[r.identityNaClientIdsNotFound];case null===(g=e.match("Cannot add property timelineEnd, object is not extensible"))||void 0===g?void 0:g.input:return[r.chunkLoadErrorObjectNotExtensible];case null===(y=e.match("Fetch request to https://js.klarna.com/web-sdk/config/runtime-config.json was aborted due to timeout"))||void 0===y?void 0:y.input:case null===(O=e.match("Fetch request to https://na-library.klarnaservices.com/config/runtime-config.json was aborted due to timeout"))||void 0===O?void 0:O.input:return[r.runtimeConfigFetchRequestAborted];case null===(w=e.match("Fetch request to https://js.klarna.com/web-sdk/config/runtime-config-playground.json was aborted due to timeout"))||void 0===w?void 0:w.input:return[r.runtimeConfigFetchRequestAbortedPlayground]}}},4074:(e,t,n)=>{n.d(t,{G:()=>o});var r=n(7933);function o(e){const t="string"==typeof e?new Error(e):e;(0,r.Nj)().report(t)}},4210:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(8334);const o=["Unexpected token '","Storage type: ","Failed to fetch dynamically imported module","Missing runtime config","Failed to execute 'define","Importing a module script failed.","NetworkError when attempting to fetch resource","Loading chunk"],i=e=>{var t;let n=!0;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(({value:e})=>{o.forEach(t=>{e.includes(t)&&(n=(0,r.s)(5))})}),n?e:null}},4549:(e,t,n)=>{n.d(t,{A:()=>r});const r={create:function(e,t){(new e.Image).src=t}}},4656:(e,t,n)=>{n.d(t,{J:()=>i});const r={USD:"na",CAD:"na",MXN:"na",EUR:"eu",CZK:"eu",DKK:"eu",HUF:"eu",NOK:"eu",PLN:"eu",RON:"eu",SEK:"eu",CHF:"eu",GBP:"eu",AUD:"oc",NZD:"oc",JPY:"oc"};var o=n(6336);const i=({paymentRequestId:e,currency:t,locale:n})=>{if(e&&e.split(":").length>=3){const t=e.split(":")[2].substring(0,2);return"us"===t?"na":"ap"===t?"oc":t}return t?(e=>r[e]||"eu")(t):(0,o.b)(n)}},4984:(e,t,n)=>{n.d(t,{Je:()=>a,Qy:()=>v,RO:()=>l,SQ:()=>s,UT:()=>d,V_:()=>i,dI:()=>o,qh:()=>p,s$:()=>f,sK:()=>c,u_:()=>u});var r=n(6994);const o={AU:["en"],NZ:["en"],AT:["en","de"],BE:["nl","en","fr"],CH:["en","de","it","fr"],CZ:["en","cs"],DE:["de","en"],DK:["da","en"],ES:["es","en"],FI:["fi","sv","en"],FR:["fr","en"],GB:["en"],GR:["en","el"],IE:["en"],IT:["en","it"],NL:["nl","en"],NO:["no","nb","en"],PL:["en","pl"],PT:["en","pt"],RO:["en","ro"],SE:["sv","en"],CA:["en","fr"],MX:["es","en"],US:["en","es"],HU:["en","hu"],SK:["en","sk"]},i=["top-strip-promotion-standard","credit-promotion-standard","credit-promotion-small","info-page-standard","info-page-auto-size"],a={[r.iC.FOOTER_PROMOTION_AUTO_SIZE]:"static",[r.iC.SIDEBAR_PROMOTION_AUTO_SIZE]:"static",[r.iC.CHECKOUT]:"json",[r.iC.CREDIT_PROMOTION_AUTO_SIZE]:"json",[r.iC.CREDIT_PROMOTION_BADGE]:"json",[r.iC.CREDIT_PROMOTION_STANDARD]:"json",[r.iC.CREDIT_PROMOTION_SMALL]:"json",[r.iC.TOP_STRIP_PROMOTION_BADGE]:"json",[r.iC.HOMEPAGE_PROMOTION_TALL]:"json",[r.iC.HOMEPAGE_PROMOTION_WIDE]:"json",[r.iC.HOMEPAGE_PROMOTION_BOX]:"json",[r.iC.TOP_STRIP_PROMOTION_AUTO_SIZE]:"json",[r.iC.TOP_STRIP_PROMOTION_STANDARD]:"json",[r.iC.INFO_PAGE]:"json",[r.iC.CUSTOM_TYPE_0]:"json",[r.iC.CUSTOM_TYPE_1]:"json",[r.iC.CUSTOM_TYPE_1_335_AUTO]:"json",[r.iC.PRODUCT]:"json",[r.iC.HEADER]:"json",[r.iC.CART]:"json",[r.iC.CREDIT_PROMOTION_INLINE]:"html",[r.iC.CUSTOM_TYPE_2_INLINE]:"html",[r.iC.CUSTOM_TYPE_3_INLINE]:"html",[r.iC.CUSTOM_TYPE_0_INLINE]:"html",[r.iC.CUSTOM_TYPE_3_335_AUTO]:"html"},s=["default","dark","custom","light"],c={production:{oc:"https://osm.klarnaservices.com",eu:"https://osm.klarnaservices.com",na:"https://osm.klarnaservices.com"},playground:{oc:"https://oc-assets.playground.klarnaservices.com",eu:"https://eu-assets.playground.klarnaservices.com",na:"https://na-assets.playground.klarnaservices.com"},staging:{oc:"https://s3.int.klarna.net/pre-purchase/library/global",eu:"https://s3.int.klarna.net/pre-purchase/library/global",na:"https://s3.int.klarna.net/pre-purchase/library/global"},development:{oc:"https://oc-assets.klarnaservices.com",eu:"https://eu-assets.klarnaservices.com",na:"https://na-assets.klarnaservices.com"}},l="/messaging",d="/s",u="/i",f="web",p={IMPRESSIONS:50,AGR_IMPRESSIONS:10,PERFORMANCE:5,STYLING_ISSUES:2,LEGACY_RENDERING:1},v=["2353e544-2ff2-59c2-b212-1bf4f3464e4c","8881c1ea-b112-5bac-af6e-8d7673373121","8a9301af-27eb-579f-9680-ce15f71b6b0a","1e91f355-200d-5918-9a94-e89ab9989159","55253bbc-5618-57c1-9537-dcb976a96121","90182b69-f31b-5041-8277-82b3a07eae17","5c1f8dc6-5298-5c13-abef-6a253ea06ea5","da5a1c6d-c02c-514c-b40d-73b0d676d464","67a23d03-8270-5475-a8a0-babe4ba86687","4f39e2bc-5713-52f1-8c90-570f7ddd4781","5c067b36-6a15-5c22-9fba-1402e1393748","a9e8fb36-aa4e-589d-bd62-7c8c99e46092","cce1bc9a-2ba6-59ab-88ea-ba0b767aab8b","e8880bde-72dd-5de0-8876-4dc28a556ff9","a9c619b7-b577-54d7-aa7b-adeadc7fc5ee","ce4123ca-9676-51b5-8db5-76d854d54c88","723d3bf3-0a90-5aae-8140-310d9fa478bd","78384c12-9830-508f-9046-f45b93ede7a1","52de8130-3107-59f9-aaa1-5a90bf0cdf13","ecb0e555-fd5f-554e-966a-bf58f1f72a8e","c6406cbf-893d-59c1-816d-086e9ca7c5c7","76424947-b4c8-5f11-9125-46bff698a0f8","58a92553-dc92-5af4-af7e-65693266e81c","a84c8537-64a5-5f76-a0ff-6d9b934088ec","601ee633-997e-5b4e-867a-a5a13c4c5f63","c782324b-2ee6-5130-9606-c7f112a0fe23","78bdf5e2-8292-54ee-9e27-dea8fb4aacf6","fc432336-af8d-571e-8a4c-15d0efcf7f67","663643dc-79c8-5ecd-ba91-86403fef3965","67472e2d-1d9a-5311-87ef-9e93ea03f399","fce97b2a-8c6a-5ba5-a107-948485bc2e83","0b42169a-608f-5c81-b17a-29900c8c66a4","ca810ec7-49ec-5b63-9183-accae4bf3307","c68e9833-599c-5e14-bc57-f78c822b12ad","bfd35799-3d4c-5582-b71b-c3e963568427","1a13d8c3-3c33-51ee-a722-e45955c20fa6","d3e8cc9b-a1ad-51b9-96a7-05fe230edce3","49a82178-2eba-54ce-b8c1-2531a004a138","71d3225b-aa87-5f0e-9904-876af56d6c66","e4708f00-bd5a-5e18-bd66-f4621c238887","f6186bbc-da96-57ed-affd-c0978a613268","991fe595-2850-5cbc-adba-989fc270713f","3a543f47-e295-5ea0-93ab-61dfb0dae37a","addb8461-59ed-5e10-b577-9abcbd197d84","6ca24f4c-0c64-5517-adb2-fd5eda9701aa","738bf438-6a08-50db-92e1-acfdc06706c2","9ce697be-c972-53b9-88bb-cac352b69f47","a897c548-029d-5d34-9b59-813ceb9d7264","c7a1c0da-0b49-5732-913b-0a47a3e1a60e","9ee94060-75f8-5f0e-99bb-3954fcf3a62f","db8aa4d5-8069-5218-933c-de7e3b494f89","a264dbba-6c2d-59b9-9167-c3f4a9791f21","008032f1-657e-5cca-a105-f3edd2bbe84f","af16f814-4a20-5c20-ad2d-942ad93f3590","e36cb7cd-c699-555c-a80d-0fcd56d7f303","ba76a301-1323-5e62-aac3-6b3ce95623ee","0904ad5a-0fb5-5069-bca9-12dbae8d8e5d","6b01ee08-344c-5e9b-ae46-b31a477259f0","f53b110c-50fa-5540-8225-bad651221124","23aec4ae-cd98-5f0a-b4d5-0df5c4a223c6","17e2e730-3d33-585a-b9e7-c5a75e966127","203b5252-c6b6-56a1-8e9d-d0caafebb88c","63ae67c6-ab0e-575e-9f1c-712b9027cc6c","a17591c7-36f9-526b-92a5-f2ff0449a3fc","9766ad09-9605-58a9-aed8-0cd3011da25e","fd6d2432-21c6-5928-86ad-eb0566325c12","32198a5b-390c-59f6-b1b8-b318f945a14f","d8a32f56-c17e-5e88-bc50-b9b35b9ced2d","6600934b-c14a-54d5-a447-6dc4b146f321","7cfbaac4-729a-5930-ba1a-ad3504155e8e","6d98ac83-11a1-584b-9aa4-e4374ea442e6","19cf327c-7c49-5b82-853b-83d93c0fa116"]},5298:(e,t,n)=>{n.d(t,{T:()=>r});let r=function(e){return e.websdk="websdk",e.osm="osm-client-script",e.identitySdk="sign-in-with-klarna",e}({})},5871:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(9480);const o={africa:"eu",america:"na",antarctica:"na",arctic:"na",asia:"oc",atlantic:"na",australia:"oc",europe:"eu",indian:"oc",pacific:"na"},i=()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e){const t=e.split("/")[0].toLowerCase();if(t in o)return o[t]}return(0,r.JE)("Provided region is not supported - defaulting region to eu"),"eu"}},6128:(e,t,n)=>{function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)})}}n.d(t,{$:()=>i});class i{constructor(e={}){this.executedEvents=new Map,this.inFlightEvents=new Map,this.options={maxRetries:e.maxRetries||3,retryDelayMs:e.retryDelayMs||1e3,retentionTimeMs:e.retentionTimeMs||3e5,maxRecords:e.maxRecords||100,flushIntervalMs:e.flushIntervalMs||6e4,inFlightTimeoutMs:e.inFlightTimeoutMs||3e4},this.options.flushIntervalMs>0&&(this.flusherIntervalId=setInterval(()=>this.flushOldEvents(),this.options.flushIntervalMs))}flushOldEvents(){const e=Date.now();for(const[t,n]of this.executedEvents.entries())e-n.executedAt>this.options.retentionTimeMs&&this.executedEvents.delete(t)}flushExcessEvents(){for(;this.executedEvents.size>this.options.maxRecords;){const e=this.executedEvents.keys().next().value;if(void 0===e)break;this.executedEvents.delete(e)}}static generateEventKey(...e){return e.join("|")}executeOnce(e,t,n){var r=this;return o(function*(){try{const n=Date.now();if(r.executedEvents.get(t))return Promise.resolve();if(r.inFlightEvents.has(t))return r.inFlightEvents.get(t);const o=r.runWithTimeout(r.runWithRetries(e,t,n),r.options.inFlightTimeoutMs,t);r.inFlightEvents.set(t,o);try{yield o}finally{r.inFlightEvents.delete(t)}}catch(e){n?n(e):console.warn("Event execution failed:",{error:e,deduplicationKey:t})}})()}runWithRetries(e,t,n){var r=this;return o(function*(){let o=0;for(;o<r.options.maxRetries;)try{return yield e(),void r.recordExecution(t,n)}catch(e){if(o++,o>=r.options.maxRetries)throw new Error(`Failed to execute event after ${r.options.maxRetries} attempts`);yield r.delay(r.options.retryDelayMs)}})()}recordExecution(e,t){this.executedEvents.set(e,{executedAt:t}),this.flushExcessEvents()}delay(e){return new Promise(t=>setTimeout(t,e))}runWithTimeout(e,t,n){return new Promise((r,o)=>{const i=setTimeout(()=>{this.inFlightEvents.delete(n),o(new Error(`Event execution timed out after ${t} ms`))},t);e.then(e=>{clearTimeout(i),r(e)},e=>{clearTimeout(i),o(e)})})}stopFlusher(){this.flusherIntervalId&&(clearInterval(this.flusherIntervalId),this.flusherIntervalId=void 0)}}},6336:(e,t,n)=>{n.d(t,{b:()=>s});var r=n(3308),o=n(9480),i=n(5871);const a={at:"eu",au:"oc",be:"eu",ca:"na",ch:"eu",cz:"eu",de:"eu",dk:"eu",es:"eu",fi:"eu",fr:"eu",gb:"eu",gr:"eu",ie:"eu",it:"eu",mx:"na",nl:"eu",no:"eu",nz:"oc",pl:"eu",pt:"eu",ro:"eu",se:"eu",sk:"eu",us:"na",hu:"eu"},s=e=>{if(e&&(e=e.replace("_","-")),e&&(0,r.J)(e)){const t=e.split("-")[1].toLowerCase();if(t in a)return a[t]}const t=(0,i.N)();return(0,o.JE)(`Provided locale is not supported - defaulting region to ${t}`),t}},6806:(e,t,n)=>{n.d(t,{i:()=>o});const r=["https://s3.int.klarna.net","https://js.klarna.com","https://x.klarnacdn.net","https://x.nonprod.us1.js.klarna.net","https://osm.klarnaservices.com","https://eu-assets.playground.klarnaservices.com","https://na-assets.playground.klarnaservices.com","https://ap-assets.playground.klarnaservices.com","https://oc-assets.playground.klarnaservices.com"],o=e=>r.some(t=>e.startsWith(t))},6994:(e,t,n)=>{n.d(t,{D3:()=>r,G3:()=>a,Id:()=>d,Lj:()=>c,O4:()=>u,Ug:()=>i,V7:()=>s,bV:()=>o,iC:()=>l});let r=function(e){return e.PAYMENT_BUTTON="klarna-payment-button",e.IDENTITY_BUTTON="klarna-identity-button",e.PLACEMENT="klarna-placement",e}({}),o=function(e){return e.IDENTITY="identity",e.PAYMENT="payment",e}({}),i=function(e){return e.DEFAULT="default",e.LIGHT="light",e.DARK="dark",e.OUTLINED="outlined",e}({}),a=function(e){return e.DEFAULT="default",e.PILL="pill",e.RECT="rect",e}({}),s=function(e){return e.DEFAULT="default",e.LEFT="left",e.CENTER="center",e}({}),c=function(e){return e.CHECKOUT="checkout",e.CONTINUE="continue",e.CONNECT="connect",e.DONATE="donate",e.SIGNIN="signin",e.SIGNUP="signup",e.SUBSCRIBE="subscribe",e.PAY="pay",e}({}),l=function(e){return e.CHECKOUT="checkout",e.CUSTOM_TYPE_0="custom-type0",e.CUSTOM_TYPE_1="custom-type1",e.CUSTOM_TYPE_0_INLINE="custom-type0-inline",e.CUSTOM_TYPE_2_INLINE="custom-type2-inline",e.CUSTOM_TYPE_3_INLINE="custom-type3-inline",e.CUSTOM_TYPE_1_335_AUTO="custom-type1-335-auto",e.CUSTOM_TYPE_3_335_AUTO="custom-type3-335-auto",e.TOP_STRIP_PROMOTION_AUTO_SIZE="top-strip-promotion-auto-size",e.TOP_STRIP_PROMOTION_STANDARD="top-strip-promotion-standard",e.TOP_STRIP_PROMOTION_BADGE="top-strip-promotion-badge",e.CREDIT_PROMOTION_SMALL="credit-promotion-small",e.CREDIT_PROMOTION_STANDARD="credit-promotion-standard",e.CREDIT_PROMOTION_INLINE="credit-promotion-inline",e.CREDIT_PROMOTION_AUTO_SIZE="credit-promotion-auto-size",e.CREDIT_PROMOTION_BADGE="credit-promotion-badge",e.SIDEBAR_PROMOTION_AUTO_SIZE="sidebar-promotion-auto-size",e.FOOTER_PROMOTION_AUTO_SIZE="footer-promotion-auto-size",e.INFO_PAGE="info-page",e.HOMEPAGE_PROMOTION_TALL="homepage-promotion-tall",e.HOMEPAGE_PROMOTION_WIDE="homepage-promotion-wide",e.HOMEPAGE_PROMOTION_BOX="homepage-promotion-box",e.PRODUCT="product",e.HEADER="header",e.CART="cart",e}({});const d={production:"https://js.klarna.com",playground:"https://js.playground.klarna.com",staging:"https://x.nonprod.us1.js.klarna.net",development:"https://x.nonprod.us1.js.klarna.net"};let u=function(e){return e.LIVE="live",e.TEST="test",e}({})},7459:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(4984),o=n(3308),i=n(5871);const a={eu:"en-GB",na:"en-US",oc:"en-AU"},s=({locale:e="",win:t=window,allowFallback:n=!0}={})=>{var s;e&&(e=e.replace("_","-"));const c=e.split("-");if(e=c.length>1?`${c[0].toLowerCase()}-${c[1].toUpperCase()}`:"",(0,o.J)(e))return e;if(!n)throw new Error("Invalid locale provided and allowFallback is disabled.");const l=null===(s=t.navigator)||void 0===s?void 0:s.language;if((e=>{if(!e)return!1;const[t="",n=""]=e.split("-");if(!t)return!1;const o=t.toLowerCase();if(n){const e=n.toUpperCase(),t=r.dI[e];return!!t&&t.includes(o)}return Object.values(r.dI).flat().includes(o)})(l))return l;const d=(0,i.N)();return a[d]}},7933:(e,t,n)=>{n.d(t,{Nj:()=>p,r$:()=>v});var r=n(2102),o=n(3045),i=n(3398),a=n(833),s=n(3001),c=n(3976),l=n(8927),d=n(4210);let u;const f={report:()=>{},setTags:()=>{},setTag:()=>{},setExtras:()=>{},setExtra:()=>{}},p=()=>u||((0,a.O)(o.D.SENTRY_NOT_CONFIGURED,"Sentry client not initialized"),f),v=e=>{var t,n,o,a,p,v;return(0,i.L)()?u=f:u||(u=(e=>new r.x({dsn:"https://6fdc8e6e634d4a998b6f0dbfd7b025e1@o24547.ingest.sentry.io/4505471301713920",release:e.version,environment:e.environment,ignoreErrors:["validation_errors",/^The data-purchase-amount of .+? in .+? is invalid$/],beforeSend:e=>{var t;null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(({value:t})=>{e.fingerprint=(0,c.S)(t)});const n=(0,l.n)(e);return n?(r=d.W,o=s.H,e=>r(o(e)))(n):null;var r,o},blacklistUrls:[/pagead\/js/i,/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/extensions\//i,/^chrome:\/\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]}))(e)),e.tags&&Object.entries(e.tags).forEach(([e,t])=>{t&&u.setTag(e,t.toString())}),u.setExtras({connectionType:null!==(t=null===(n=navigator)||void 0===n||null===(n=n.connection)||void 0===n?void 0:n.effectiveType)&&void 0!==t?t:"unknown",downlink:null!==(o=null===(a=navigator)||void 0===a||null===(a=a.connection)||void 0===a?void 0:a.downlink)&&void 0!==o?o:"unknown",rtt:null!==(p=null===(v=navigator)||void 0===v||null===(v=v.connection)||void 0===v?void 0:v.downlink)&&void 0!==p?p:"unknown"}),u}},7971:(e,t,n)=>{n.d(t,{A:()=>s,v:()=>a});var r=n(8334),o=n(3837);const i="version",a=()=>{try{const e=(0,o.n)(i);return null==e?void 0:e.get("rolloutVariant")}catch(e){return"none"}},s=e=>{if(!e)throw new Error("Missing runtime config");try{var t,n;const a=(0,o.n)(i);e.lib.defaultVersion!==(null===(t=e.lib)||void 0===t?void 0:t.canaryVersion)&&"true"!==(null===(n=e.lib)||void 0===n?void 0:n.flushVersion)||(null==a||a.remove("version"),null==a||a.remove("rolloutVariant"),null==a||a.remove("ttl"));const s=null==a?void 0:a.get("version");if(s)return s;{const t=(({defaultVersion:e,canaryVersion:t,canaryWeight:n=0})=>{const a=(0,o.n)(i),s=Date.now()+864e5;return null==a||a.set("ttl",s.toString()),(0,r.s)(100*n)?(0,r.s)(50)?(null==a||a.set("rolloutVariant","canary"),null==a||a.set("version",t),t):(null==a||a.set("rolloutVariant","control"),null==a||a.set("version",e),e):(null==a||a.set("rolloutVariant","none"),null==a||a.set("version",e),e)})(e.lib);if(t)return t;throw new Error("Failed to set rollout and version")}}catch(t){if(e.lib.defaultVersion)return e.lib.defaultVersion;throw new Error(`Failed to get version: ${t.message}`)}}},8334:(e,t,n)=>{n.d(t,{$:()=>r,s:()=>o});const r={BACKEND_BRIDGE_INIT:5,DEPRECATED_SESSION_ID_REQUESTED:5,INIT:5,SDK_LOAD_TIME_EVENT:5,MERCHANT_WARN:5,ENTRY:5},o=e=>100*Math.random()<e},8927:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(6806);const o=e=>{var t;let n=!0;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(({stacktrace:e})=>{var t;null==e||null===(t=e.frames)||void 0===t||t.forEach(({filename:e})=>{n=!(0,r.i)(e)})}),n?null:e}},9480:(e,t,n)=>{n.d(t,{JE:()=>f,Ko:()=>p,vV:()=>u});var r=n(2869),o=n(8334),i=n(908),a=n(5298),s=n(2592);const c="Klarna Web SDK:",l="color: black; background-color: #FFB3C7; padding: 2px;",d=(0,r.h)();function u(e,t=!0,n="metric_merchant_error",r=!1){if(console.error(`%c${c} ${e}`,l),t){if(r){const t=(0,s.Tj)(a.T.websdk);if(t)return void t.event(n,{message:e,browserName:d})}(0,s.Ay)(a.T.websdk).event(n,{message:e,browserName:d})}}function f(e,t="metric_merchant_warn",n=!1){console.warn(`%c${c} ${e}`,l),((0,o.s)(o.$.MERCHANT_WARN)||n)&&(0,s.Ay)(a.T.websdk).event(t,{message:e})}const p={info:e=>!(0,i.A)()&&function(e){console.info(`%c${c} ${e}`,l),(0,s.Ay)(a.T.websdk).event("merchant_info",{message:e})}(e),warn:e=>!(0,i.A)()&&f(e),error:e=>!(0,i.A)()&&u(e)}},9596:(e,t,n)=>{n.d(t,{s:()=>o});var r=n(3740);function o(e,t=window){if(null==t||!t.sessionStorage)throw new Error(`client does not support ${r.A.sessionStorage}`);const n=()=>JSON.parse(t.sessionStorage.getItem(e)||"{}"),o={get:e=>{const t=n();return(null==t?void 0:t[e])||null},set:(r,o)=>{const i=n();return null===o?delete i[r]:i[r]=o,t.sessionStorage.setItem(e,JSON.stringify(i))},remove:e=>o.set(e,null),flush:()=>t.sessionStorage.removeItem(e)};return o}},9604:(e,t,n)=>{function r(e=""){const t=e.replace(/-/g,"").toLowerCase();return/^[0-9a-f]{32}$/i.test(t)}n.d(t,{f:()=>r})}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,o.amdO={},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,n)=>(o.f[n](e,t),t),[])),o.u=e=>"1.0.143/"+({1662:"sdk-bundle",4328:"klarna-test-drive-badge"}[e]||e)+".chunk.js",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@klarna-web-sdk/lib:",o.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(r)),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="https://js.klarna.com/web-sdk/v1/",(()=>{var e={4396:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,o)=>r=e[t]=[n,o]);n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,s,c]=n,l=0;if(a.some(t=>0!==e[t])){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);c&&c(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_klarna_web_sdk_lib=self.webpackChunk_klarna_web_sdk_lib||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o(3223),a=o(8334),s=o(9480),c=o(9604),l=o(509),d=o(6994);var u=o(7971),f=o(3398),p=o(3308),v=o(1594),b=o(7933),m=o(4074),h=o(5298);var g=o(3056),y=o(2388);function O(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}const w={lib:{defaultVersion:"1.0.143"},lastUpdated:(new Date).toISOString()},E=function(){var e,t=(e=function*(e,t="production",n,r=3,o=3e3){let i="production"===t?"runtime-config":`runtime-config-${t}`;"development"===t&&(e="https://s3.int.klarna.net/web-sdk/",i="runtime-config-staging");const a=`${e}config/${i}.json`,c=new AbortController,l=c.signal,d=((e,t)=>setTimeout(()=>{e.abort()},t))(c,o);try{const e=yield fetch(a,{signal:l});if(clearTimeout(d),!e.ok)throw new Error(`Failed to fetch configuration. Server responded with status ${e.status}: ${e.statusText}`);return yield e.json()}catch(i){return"AbortError"===i.name?(n&&(0,s.vV)(`Fetch request to ${a} was aborted due to timeout`),w):(n&&(0,s.vV)(`Attempt ${r} failed to fetch runtime configuration from ${a}. Error: ${null==i?void 0:i.message}`),r>0?E(e,t,n,r-1,o):(n&&(0,s.vV)(`Failed to fetch runtime configuration after multiple attempts from ${a}, relying on the FALLBACK_CONFIG instead. Error: ${null==i?void 0:i.message}`),w))}finally{clearTimeout(d)}},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,s,"next",e)}function s(e){O(i,r,o,a,s,"throw",e)}a(void 0)})});return function(){return t.apply(this,arguments)}}(),_=E;function I(){const e=new CustomEvent("OSM:refresh");return document.dispatchEvent(e),null}const k=[];class T extends Array{constructor(...e){var t,n,r;super(...e),t=this,r=I,(n=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n="refresh"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}pop(){return k.pop()}push(e){return k.push(e),k.length}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){A(i,r,o,a,s,"next",e)}function s(e){A(i,r,o,a,s,"throw",e)}a(void 0)})}}function x(e){return(0,i.N)({config:{version:e.version,environment:e.environment,sessionId:e.sessionId},trackerClient:h.T.websdk,extraTrackingData:{additionalIdentifier:e.additionalIdentifier,clientId:e.clientId,accountId:e.accountId,instanceId:e.clientInstanceName},locale:e.locale})}function C(){return C=j(function*(e=window){var t,n,r;e.Klarna=e.Klarna||{};const o=((e=document)=>{var t,n,r;return null!==(t=null==e?void 0:e.currentScript)&&void 0!==t?t:null==e||null===(n=e.scripts)||void 0===n?void 0:n[(null==e||null===(r=e.scripts)||void 0===r?void 0:r.length)-1]})(),{accountId:i,clientId:c,clientKey:l,clientToken:d,environment:u,version:f,additionalIdentifier:p,clientInstanceName:v,locale:b,shoppingSessionId:m}=(null==o?void 0:o.dataset)||{},h=c||l,O=(0,g.A)(),w=(0,a.s)(a.$.ENTRY),E=(0,a.s)(a.$.SDK_LOAD_TIME_EVENT);let _,k;try{_=x({version:null!=f?f:"1.0.143",environment:u,sessionId:O,additionalIdentifier:p,clientId:h,accountId:i,clientInstanceName:v,locale:b})}catch(e){console.warn("Failed to setup Klarna Web SDK tracker",e),_={event:e=>{console.warn("Fallback tracker event:",e)}}}if((E||"klarna_live_client_QXQ4Ym1TbHpSIWpWTkc1UnE4SFhucjMqMVhCbHZXIVEsOGJiODFlYzgtZWE5Ny00MGI5LWEzYzItOWU0ZTA1MmU2ODM4LDEscjNVa0l1bzJyRVViMTFwTXZLc1YzNThFWDVBU2Z2c1o5RHdKN0VoSmhVbz0"===h)&&(k=Date.now(),_.event(y.aT)),v&&!/^[a-z0-9]+$/.test(v))throw w&&(0,s.vV)("Invalid clientInstanceName attribute. Only lowercase letters from a-z and numbers are allowed."),new Error("Invalid clientInstanceName attribute. Only lowercase letters from a-z and numbers are allowed.");let S="KlarnaWebSDKScriptLoaded";v&&(S=`KlarnaWebSDKScript${v}Loaded`),e[S]||(e[S]=0),e[S]++,e[S]>1&&!v&&console.warn("\n      Another Klarna Web SDK was already included into the page, \n      please consider using data-client-instance-name attribute\n      on klarna.js script tag to avoid conflicts.\n    ");const P=new URL(null==o?void 0:o.src),N=null==P||null===(t=P.searchParams)||void 0===t?void 0:t.get("ready"),A=null!==(n=null!==(r=N&&e[N])&&void 0!==r?r:e[`KlarnaSDKCallback_${v}`])&&void 0!==n?n:e.KlarnaSDKCallback;let j="KlarnaSDKCallbackTriggered";if(N?j=`${N}Triggered`:v&&(j=`KlarnaSDKCallback${v}Triggered`),h||d){const{isWebSDKAvailable:t}=((e=window)=>{const t=!!e.Klarna,n=!!(e=>e.Klarna&&e.Klarna.Credit&&e.Klarna.DirectBankTransfer&&e.Klarna.DirectDebit&&e.Klarna.Payments)(e),r=!!(e=>e.Klarna&&e.Klarna.Identity&&e.Klarna.Messaging&&e.Klarna.OnsiteMessaging&&e.Klarna.Payment)(e);return{isKlarnaNamespaceAvailable:t,isKPLibAvailable:n,isWebSDKAvailable:r}})(e);if((e=>{e.KlarnaOnsiteService=new T,e.kudt=e.KlarnaOnsiteService,e.OnsiteMessaging={refresh:I,eventListeners:{},on:()=>{}}})(e),t||e[S]>1)return void(e[j]||"function"!=typeof A||(e[j]=!0,A(e.Klarna)));const n=yield R({accountId:i,clientId:h,clientToken:d,version:f,environment:u,clientInstanceName:v,additionalIdentifier:p,locale:b,shoppingSessionId:m,sessionId:O},k);e.Klarna=Object.assign(n,e.Klarna),e[j]||"function"!=typeof A||(e[j]=!0,A(e.Klarna))}else try{const t=({accountId:e,clientId:t,clientToken:n,version:r,environment:o,clientInstanceName:i,additionalIdentifier:a,locale:s})=>R({accountId:e,clientId:t,clientToken:n,version:r,environment:o,clientInstanceName:i,additionalIdentifier:a,locale:s,shoppingSessionId:m,sessionId:O},k);e.Klarna.init=t,e[j]||"function"!=typeof A||(e[j]=!0,A(new Proxy({init:t},{get:function(e,t,n){if("init"===t)return Reflect.get(e,t,n);throw new Error("Klarna SDK is not initialized. Please call window.Klarna.init() with your credentials first.")}})))}catch(e){throw new Error("Klarna Web SDK init failed")}}),C.apply(this,arguments)}const R=function(){var e=j(function*({accountId:e,clientId:t,clientToken:n,version:r,environment:i,additionalIdentifier:a,clientInstanceName:h="default",locale:g,sessionId:O},w){if(!t&&!n)throw new Error("Missing `client-id` attribute that is required for the SDK to work");g&&!(0,p.J)(g)&&((0,s.JE)("Invalid `locale` attribute. Please provide a valid locale."),g="");const[E,I]=function(e){const t=/^klarna_(test|live)_(api)_[A-Za-z0-9_-]+={0,2}$/.test(e),n=/^klarna_(test|live)_(client)_[A-Za-z0-9_-]+={0,2}$/.test(e);return t?[!1,"API_KEY"]:n?[!0,""]:[!1,"INVALID_FORMAT"]}(t);if(t&&!E&&!(0,c.f)(t))throw"API_KEY"===I?new Error("Invalid `client-id` attribute. An API key was passed but is not allowed in the `client-id` attribute. Please revoke your API key immediately as it may have been leaked if it was deployed to a public environment."):new Error('Invalid `client-id` attribute. Expected format: "klarna_<stage>_<key-type>_<base64>" or an UUID for legacy OSM integrations.');let k=r,T={lib:{defaultVersion:""},identity:{naClientIds:[],nonPKCEClientIds:[]},lastUpdated:""},S="https://js.klarna.com/web-sdk/";const N=(0,l.E)({accountId:e,clientId:t,clientToken:n,clientInstanceName:h,additionalIdentifier:a}),[A,j]=null!=t&&t.includes("_")?t.split("_"):[];if((0,f.L)())i="staging";else if((0,c.f)(t)||!t&&n){var x;i="playground"===(null===(x=i)||void 0===x?void 0:x.toLowerCase())?"playground":"production"}else i=(null==j?void 0:j.toLowerCase())===d.O4.TEST?"playground":"production";const C=P(P({},N),{},{product:"entrypoint klarna.js",sessionId:O});(0,b.r$)({environment:i,version:"1.0.143",tags:C}),"playground"===i&&(S=S.replace("js.","js.playground."));try{var R;(0,v.i)(y.ND,w),T=null!==(R=yield _(S,i,w))&&void 0!==R?R:T,k?(T.lib.defaultVersion=k,S+=`v1/${k}/`):(k=(0,u.A)(T),S+=`v1/${k}/`);const e=`${S}sdk.js`;(0,v.i)(y.Uh,w);const{default:t}=yield import(e),n=new t(P(P({},N),{},{baseUrl:S,version:k,environment:i,sessionId:O,runtimeConfig:T,clientInstanceName:h,locale:g}),w);if(n.Shopping)try{yield n.Shopping.initializeSession()}catch(e){(0,s.vV)("Failed to resume current session: "+(e.message||e.toString()),!0,y.Yh,!0)}return n.getPublicAPI()}catch(e){try{w&&(0,s.vV)("Failed to load SDK. Loading fallback version "+(e.message||e.toString()),!0,y.UI,!0),(0,m.G)(e);const{default:t}=yield Promise.all([o.e(7532),o.e(1662)]).then(o.bind(o,6398));return new t(P(P({},N),{},{baseUrl:"https://js.klarna.com/web-sdk/1.0.143/",version:"1.0.143",environment:i,sessionId:O,runtimeConfig:T,clientInstanceName:h,locale:g}),w).getPublicAPI()}catch(e){throw w&&(0,s.vV)("Failed to load SDK: "+(e.message||e.toString()),!0,y.IM,!0),(0,m.G)(e),new Error("Failed to load SDK")}}});return function(){return e.apply(this,arguments)}}();(function(){return C.apply(this,arguments)})().catch(()=>{})})();